image spi-flash.img {
	flash {
	}

	flashtype = nor-4M-64k

	partition failsafe-rcw {
		image = "rcw.bin"
		size = 64k
	}

	partition failsafe-u-boot {
		image = "u-boot-with-spl.bin"
		size = 960k
	}

	partition failsafe-dp-firmware {
		image = "ls1028a-dp-fw.bin"
		size = 256k
	}

	partition failsafe-ppa {
		image = "ppa.itb"
		size = 704k
	}

	partition failsafe-ppa {
		image = "ppa.itb"
		size = 704k
	}

	partition rcw {
		offset = 2048k
		image = "rcw.bin"
		size = 64k
	}

	partition u-boot {
		image = "u-boot-with-spl.bin"
		size = 960k
	}

	partition dp-firmware {
		image = "ls1028a-dp-fw.bin"
		size = 256k
	}

	partition ppa {
		image = "ppa.itb"
		size = 704k
	}
}

image boot.vfat {
	vfat {
		files = {
			"Image",
			"sl28.dtb",
			"boot.scr",
		}
	}
	size = 64M
}

image emmc.img {
	hdimage {
	}

	partition boot {
		partition-type = 0xc
		bootable = "yes"
		image = boot.vfat
	}

	partition rootfs {
		size = 512M
		partition-type = 0x83
		image = "rootfs.ext4"
	}
}

image sd-card.img {
	hdimage {
	}

	partition rcw {
		offset = 4k
		in-partition-table = "no"
		image = "rcw.bin"
	}

	partition u-boot {
		offset = 1M
		in-partition-table = "no"
		image = "u-boot-with-spl.bin"
	}

	partition boot {
		offset = 2M
		partition-type = 0xc
		bootable = "yes"
		image = boot.vfat
	}

	partition rootfs {
		size = 512M
		partition-type = 0x83
		image = "rootfs.ext4"
	}
}

image update.itb {
	fit {
		its = "uboot_update.its"
	}

	partition install {
		image = "uboot_install.scr"
	}
	partition rcw-1 {
		image = "rcw/sl28-2-11__.bin"
	}
	partition rcw-2 {
		image = "rcw/sl28-2-1s__.bin"
	}
	partition rcw-3 {
		image = "rcw/sl28-2-22__.bin"
	}
	partition rcw-4 {
		image = "rcw/sl28-3-11_q.bin"
	}
	partition rcw-5 {
		image = "rcw/sl28-3-1s_q.bin"
	}
	partition rcw-6 {
		image = "rcw/sl28-3-22_q.bin"
	}
	partition rcw-7 {
		image = "rcw/sl28-4-11_q.bin"
	}
	partition rcw-8 {
		image = "rcw/sl28-4-1s_q.bin"
	}
	partition rcw-9 {
		image = "rcw/sl28-4-22_q.bin"
	}
	partition spi-flash {
		image = "spi-flash.img"
	}
	partition u-boot {
		image = "u-boot-with-spl.bin"
	}
	partition dp-firmware {
		image = "ls1028a-dp-fw.bin"
	}
}

flash nor-4M-64k {
	pebsize = 65536
	numpebs = 64
}
